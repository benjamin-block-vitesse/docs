---
title: Environments
description: "Overview of how the Data environments are currently configured"
---

The Data team uses 3 environments **Development**, **Pre-Production**, and **Production**.

## Environments
* The <b>Development</b> environment contains no real data or obfuscated data.
The data is a mixture of data generated in the Duco, Salesforce, Application development environment by the system owners 
and data generated by the data team, using faker, and uploaded to the development environments. The development environment pipelines are run once a week and Orchestrated by Airflow
* The <b>Pre-Production environment</b> is a full replicate of Production data. Library or Cluster changes are tested in Pre-Production prior to being pushed into Production.
Pre-Production pipelines only run when triggered by Pull Requests as part of the CICD process.
* The <b>Production environment</b> contains data from the production instances or all sources.
The production pipelines are orchestrated by Airflow with various trigger conditions based on business requirements.

The data environment are deployed into the engineering environment of tst, stg, and prd, but only prd has any alignment of use case and content between data and engineering.

## Feature Workspaces
Rather than use one shared databricks development workspace the Data and SRE teams plan to deploy Feature databricks workspaces in the Dev environment when a new feature branch is created in GitHub.
These workspaces will be destroyed when the feature branch is successfully merged into the Main branch.

## Access Controls
### Development Environment
#### Feature workspaces
- Data members have admin privileges resources in Features workspaces
- No other uses have access to the Feature workspace

#### Development workspace
- Data members have read privileges on all unity catalog tables and external storage locations
- Data members have access to run access to SQL server and personal spark clusters
- Only the Development Service Principal has write access to external storage locations
- Engineering members are granted `Use Catalog`, `Use Schema`, `Use Volume`, `Write Volume`, and `Select` to upload data into volume and read from marts for product development and testing.

### Pre-Production Environment workspace
- Data members have read privileges on all unity catalog tables and external storage locations
- Data members have access to run access to SQL server and personal spark clusters
- Only the Pre-Production Service Principal has write access to external storage locations
- No other uses have access to the pre-production environment

### Production Environment workspace
- Data members have read privileges on all unity catalog tables and external storage locations
- Data members have access to run access to SQL server and personal spark clusters
- Only the Production Service Principal has write access to external storage locations
- All uses are granted run access on the SQL server 
- Users are granted `Use Catalog`, `Use Schema`, `Use Volume` and `Select` to access marts through databricks sql and tableau.
- Users are granted `Write Volume` permissions within the unity catalog to upload data to the lakehouse.
